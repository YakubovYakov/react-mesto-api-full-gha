{"ast":null,"code":"import React from\"react\";import{CurrentUserContext}from\"../context/CurrentUserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Card(props){var currentUser=React.useContext(CurrentUserContext);// Определяем, являемся ли мы владельцем текущей карточки\nvar isOwn=props.card.owner._id===currentUser._id;var cardDeleteButtonClassName=\"element__delete \".concat(isOwn?\"element__delete_visible\":\"element__delete_hidden\");// Определяем, есть ли у карточки лайк, поставленный текущим пользователем\nvar isLiked=props.card.likes.some(function(i){return i._id===currentUser._id;});// Создаём переменную, которую после зададим в `className` для кнопки лайка\nvar cardLikeButtonClassName=\"element__like \".concat(isLiked&&\"element__action_like\");// -------- Обработчик клика по карточке\nfunction handleClick(){props.onCardClick(props.card);}function handleLikeClick(){props.onCardLike(props.card);}function handleTrashClick(){props.onCardDelete(props.card);}return/*#__PURE__*/ (// -------- Разметка JSX\n_jsxs(\"article\",{className:\"element\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"element__image\",src:props.card.link,alt:props.card.name,onClick:handleClick}),/*#__PURE__*/_jsxs(\"div\",{className:\"element__item\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"element__name\",children:props.card.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"element__likes-container\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",\"aria-label\":\"\\u041F\\u043E\\u0441\\u0442\\u0430\\u0432\\u0438\\u0442\\u044C \\u041B\\u0430\\u0439\\u043A\",className:cardLikeButtonClassName,onClick:handleLikeClick}),/*#__PURE__*/_jsx(\"span\",{className:\"element__like-counter\",children:props.card.likes.length})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:cardDeleteButtonClassName,onClick:handleTrashClick,id:\"element__delete\"})]}));}export default Card;","map":{"version":3,"names":["React","CurrentUserContext","jsx","_jsx","jsxs","_jsxs","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","concat","isLiked","likes","some","i","cardLikeButtonClassName","handleClick","onCardClick","handleLikeClick","onCardLike","handleTrashClick","onCardDelete","className","children","src","link","alt","name","onClick","type","length","id"],"sources":["/Users/a777/Desktop/react-mesto-api-full-gha/frontend/src/components/Card.js"],"sourcesContent":["import React from \"react\";\nimport { CurrentUserContext } from \"../context/CurrentUserContext\";\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  // Определяем, являемся ли мы владельцем текущей карточки\n  const isOwn = props.card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = `element__delete ${\n    isOwn ? \"element__delete_visible\" : \"element__delete_hidden\"\n  }`;\n\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const isLiked = props.card.likes.some((i) => i._id === currentUser._id);\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\n  const cardLikeButtonClassName = `element__like ${\n    isLiked && \"element__action_like\"\n  }`;\n\n  // -------- Обработчик клика по карточке\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleTrashClick() {\n    props.onCardDelete(props.card);\n  }\n\n  return (\n    // -------- Разметка JSX\n    <article className=\"element\">\n      <img\n        className=\"element__image\"\n        src={props.card.link}\n        alt={props.card.name}\n        onClick={handleClick}\n      />\n      <div className=\"element__item\">\n        <h2 className=\"element__name\">{props.card.name}</h2>\n        <div className=\"element__likes-container\">\n          <button\n            type=\"button\"\n            aria-label=\"Поставить Лайк\"\n            className={cardLikeButtonClassName}\n            onClick={handleLikeClick}\n          />\n          <span className=\"element__like-counter\">\n            {props.card.likes.length}\n          </span>\n        </div>\n      </div>\n      <button\n        type=\"button\"\n        className={cardDeleteButtonClassName}\n        onClick={handleTrashClick}\n        id=\"element__delete\"\n      />\n    </article>\n  );\n}\n\nexport default Card;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,kBAAkB,KAAQ,+BAA+B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEnE,QAAS,CAAAC,IAAIA,CAACC,KAAK,CAAE,CACnB,GAAM,CAAAC,WAAW,CAAGR,KAAK,CAACS,UAAU,CAACR,kBAAkB,CAAC,CAExD;AACA,GAAM,CAAAS,KAAK,CAAGH,KAAK,CAACI,IAAI,CAACC,KAAK,CAACC,GAAG,GAAKL,WAAW,CAACK,GAAG,CACtD,GAAM,CAAAC,yBAAyB,oBAAAC,MAAA,CAC7BL,KAAK,CAAG,yBAAyB,CAAG,wBAAwB,CAC5D,CAEF;AACA,GAAM,CAAAM,OAAO,CAAGT,KAAK,CAACI,IAAI,CAACM,KAAK,CAACC,IAAI,CAAC,SAACC,CAAC,QAAK,CAAAA,CAAC,CAACN,GAAG,GAAKL,WAAW,CAACK,GAAG,GAAC,CACvE;AACA,GAAM,CAAAO,uBAAuB,kBAAAL,MAAA,CAC3BC,OAAO,EAAI,sBAAsB,CACjC,CAEF;AACA,QAAS,CAAAK,WAAWA,CAAA,CAAG,CACrBd,KAAK,CAACe,WAAW,CAACf,KAAK,CAACI,IAAI,CAAC,CAC/B,CAEA,QAAS,CAAAY,eAAeA,CAAA,CAAG,CACzBhB,KAAK,CAACiB,UAAU,CAACjB,KAAK,CAACI,IAAI,CAAC,CAC9B,CAEA,QAAS,CAAAc,gBAAgBA,CAAA,CAAG,CAC1BlB,KAAK,CAACmB,YAAY,CAACnB,KAAK,CAACI,IAAI,CAAC,CAChC,CAEA,oBACE;AACAN,KAAA,YAASsB,SAAS,CAAC,SAAS,CAAAC,QAAA,eAC1BzB,IAAA,QACEwB,SAAS,CAAC,gBAAgB,CAC1BE,GAAG,CAAEtB,KAAK,CAACI,IAAI,CAACmB,IAAK,CACrBC,GAAG,CAAExB,KAAK,CAACI,IAAI,CAACqB,IAAK,CACrBC,OAAO,CAAEZ,WAAY,CACtB,CAAC,cACFhB,KAAA,QAAKsB,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BzB,IAAA,OAAIwB,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAErB,KAAK,CAACI,IAAI,CAACqB,IAAI,CAAK,CAAC,cACpD3B,KAAA,QAAKsB,SAAS,CAAC,0BAA0B,CAAAC,QAAA,eACvCzB,IAAA,WACE+B,IAAI,CAAC,QAAQ,CACb,aAAW,iFAAgB,CAC3BP,SAAS,CAAEP,uBAAwB,CACnCa,OAAO,CAAEV,eAAgB,CAC1B,CAAC,cACFpB,IAAA,SAAMwB,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CACpCrB,KAAK,CAACI,IAAI,CAACM,KAAK,CAACkB,MAAM,CACpB,CAAC,EACJ,CAAC,EACH,CAAC,cACNhC,IAAA,WACE+B,IAAI,CAAC,QAAQ,CACbP,SAAS,CAAEb,yBAA0B,CACrCmB,OAAO,CAAER,gBAAiB,CAC1BW,EAAE,CAAC,iBAAiB,CACrB,CAAC,EACK,CAAC,EAEd,CAEA,cAAe,CAAA9B,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}